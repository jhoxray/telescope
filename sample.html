

  <template name="main_telescope">

      <div class="alert alert-warning">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <strong>NOTE:</strong> This app showcases development version of Observatory which may be different from the
          one set up via "mrt add observatory".
      </div>

      <div class="alert alert-success">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <strong>NEW!</strong> <a href="logging#0.2.6">0.2.6</a> released on August, 27th, 2013! -- external settings, better user logging...
      </div>
      <div class="alert alert-success">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <strong>NEW!</strong> <a href="logging#0.2.5">0.2.5</a> released on August, 19th, 2013! -- updated to work with Meteor 0.6.5...
      </div>
      
      <div class="alert alert-success">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <strong>NEW!</strong> <a href="logging#0.2.1">0.2.1</a> released on March, 25, 2013! -- http request logging, connection status...
      </div>
  </template>

<template name="logging_template">
        <!-- Example row of columns -->
        <div class="row">
            <div class="span8 offset1">
                <h3 id="why">Why?</h3>
                <p>We got frustrated with the need to switch between the terminal and Chrome's js console to keep track of Meteor app logs, plus needed a basic standard logging
                    package that can support different log levels and present all that in one place in a nice format. Then kinda got carried away.
                    And yes, we do use it extensively in our semi-production Meteor apps.
                </p>


                <h3 id="what">What does it do?</h3>
                <p>
                <ul>
                    <li>Supports different log levels (currently FATAL, ERROR, WARNING, INFO, VERBOSE, DEBUG) with corresponding methods for message output,
                        optional logging to console, pretty output of both Client and Server logs right in the browser
                    </li>
                    <li>
                        Optional logging of currently logged-in users. Panel displays username, first email address (user.emails[0].address)
                        and finally userId if none of the previous options are found.
                    </li>
                <li>
                    Optional logging of all http requests with the originating IP address. Panel shows IP address for anonymous
                    users and username / email for logged-in.
                </li>
                    <li>Provides live monitoring of your app's templates with all events
                        (they tend to become too many very fast, so keeping track of all of them in one place is very useful),
                        helpers and key callbacks (created, rendered, destroyed), as well as
                        some other internals (currently, Session object). </li>
                    <li>
                        Due to the above, Observatory can be used as a useful tool to quickly understand what a Meteor
                        app is doing - just install it to the app you want to analyze and there you go, you have an
                        easy visual navigation of how templates work and what's in Session!
                    </li>
                    </ul>
                </p>



                <h3 id="usage">Usage</h3>
                <div class="alert">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong>NOTE:</strong> The docs below may be outdated, up to date API description
                    is always on the github: <a href="https://github.com/jhoxray/observatory">read here!</a>
                </div>

                <p>Observatory is a <a href="https://atmosphere.meteor.com">meteorite package</a> so installation is as easy as
                    running <code>mrt add observatory</code> in the shell and plugging
                    <code>&#123;&#123;>logs_bootstrap&#125;&#125;</code> somewhere in your templates, preferably before
                    the  <code>&#60;/body&#62;</code> tag. </p>

                <p>Also feel free to <a href="https://github.com/jhoxray/telescope">browse the code</a> for this app.</p>

                <h5 id="docPanel">Using the panel</h5>
                <p>
                    Click the "O!" and "S!" buttons in the bottom left corner of the page to switch between Observatory panel modes:
                    small is useful to monitor latest logs, while medium and large provide full-featured panel with both logging
                    and other capabilities described below. Since 0.1.9 you can use "ctrl + ~" and "~" keys to toggle the panels.

                    Do try changing the theme, too!
                </p>

                <h5 id="docLogging">Logging</h5>

                

                <p>
                    In your application code call something like <code>TL = TLog.getLogger(); TL.setOptions(loglevel, want_to_print = true, log_user = false, log_http = true)</code>
                    (first argument is desired log level - messages with log level &#60;= that will be logged -
                    the second is whether you also want to log to the console, the third is whether you want to log
                    the currently logged in user ID with each message and the last one is whether to log http requests.
                    To log a message call one of the following methods:</p>
                <p><code>TL.fatal("application failed drastically","optional module name");<br/>
                    TL.error("some error occurred","optional module name");<br/>
                    TL.warn("a warning message","optional module name");<br/>
                    TL.info("just for your information","optional module name");<br/>
                    TL.verbose("logging every single detail","optional module name");<br/>
                    TL.debug("some debugging stuff","optional module name");<br/><br/>

                    TL.trace(error,"additional message about error","optional module name");<br/>
                    TL.dir(obj,"additional message about the object to inspect","optional module name");<br/>
                </code></p>


                <p>
                    There's more details, full API documentation, including how Observatory stores logs, which fields are
                    logged etc is
                    <a href="https://github.com/jhoxray/observatory#readme" target="_blank">available on github</a>.

                </p>


                <h5 id="docMonitoring">Application internals monitoring</h5>
                <p>
                    Curently, Observatory provides you with the list of all Templates in your application,
                    list of all of each template's events, helpers and key callbacks with ability to glance at the code
                    (see "Templates Internals" tab on the main panel),
                    as well as Session state monitoring (separate Session panel - click "S!" or press "~" key).
                </p>
                <p>
                    As Meteor matures, we plan to add other useful objects monitoring, e.g., users once auth
                    is finished, and likely something around Collections as well.
                </p>

                <h3 id="contribution">Contributing</h3>
                <p>If you'd like to contribute to development or styling new themes for Observatory,
                    <code>git clone https://github.com/jhoxray/observatory.git</code> and then follow
                    the usual pull request routine. Any help is welcome!</p>
                <p>
                    If you'd like to submit an idea, suggestion or report a bug,
                    <a href="https://github.com/jhoxray/observatory/issues?state=open">create a new GitHub issue</a>
                    or <a href="http://superstringsoftware.com">leave a comment</a> in our blog.
                </p>


            </div>
        </div>
</template>


<template name="sample_app">
    <h3 class="jupiter">Observatory: Jupiter</h3>
    <div class="well">
        <p>
            Powerfull Meteor logging for all your needs, recording both server and client events to mongo 
            and optionally the console, with lightweight panel similar to the below live demo. 
            Great during development and when not connected to the internet. </p>
        <p>
            Automagical logging and performance profiling of <code>http</code> and <code>DDP</code> protocols, 
            <code>Collection</code> methods, <code>Templates</code> lifecycle, <code>Subscriptions</code> and
            other key Meteor internals. Try adding some logs:
        </p>
        <div class="form-group">
            <input id="log_message" type="text" class="form-control" placeholder="Your clever log message goes here"/>
        </div>
        <p>
        <button class="btn btn-xs btn-inverse btnSA" id="btn_fatal" severity="0">FATAL</button>
        <button class="btn btn-xs btn-danger btnSA" id="btn_error" severity="1">ERROR</button>
        <button class="btn btn-xs btn-warning btnSA" id="btn_warning" severity="2">WARN</button>
        <button class="btn btn-xs btn-info btnSA" id="btn_info" severity="3">INFO</button>
        <button class="btn btn-xs btn-success btnSA" id="btn_verbose" severity="4">VERBOSE</button>
        <button class="btn btn-xs btnSA" id="btn_debug" severity="5">DEBUG</button>
        <select id="server_or_client" class="sample_select">
                <option value="server">Server</option>
                <option value="client">Client</option>
            </select>

        </p>

        <p>
            Usage is as simple as <code>mrt add observatory</code>, plugging <code>&#123;&#123;&gt;logs_bootstrap&#125;&#125;</code> template before the <code>body</code> tag
            and calling <code>tb = Observatory.getToolbox();</code> both on the client and on the server.
        </p>
        <p>
            <a href="#">Read more on how to use powerful logging with Observatory...</a>
        </p>
    </div>

</template>


  

